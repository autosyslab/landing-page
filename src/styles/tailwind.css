@tailwind base;
@tailwind components;
@tailwind utilities;

/* subtle grid noise & font-smoothing akin to the ZIP */
html, body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@layer utilities {
  @keyframes glowPulse {
    0%, 100% { opacity: 0.85; transform: translate3d(0,0,0) scale(1); }
    50%      { opacity: 1;    transform: translate3d(0,-6px,0) scale(1.01); }
  }
  .animate-glow { animation: glowPulse 6s ease-in-out infinite; }

  @keyframes floaty {
    0%, 100% { transform: translate3d(0,4px,0) }
    50%      { transform: translate3d(0,-4px,0) }
  }
  .animate-float { animation: floaty 7s ease-in-out infinite; }

  @keyframes slideRight {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }
  @keyframes slideLeft {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
  }

  @keyframes gentleFadeIn {
    0% { 
      opacity: 0; 
      transform: translate(-50%, -50%) scale(0.95); 
    }
    100% { 
      opacity: 1; 
      transform: translate(-50%, -50%) scale(1); 
    }
  }

  @keyframes gentleFadeOut {
    0% { 
      opacity: 1; 
    }
    100% { 
      opacity: 0; 
    }
  }

  .animate-gentle-fade-in { 
    animation: gentleFadeIn 1s ease-out forwards; 
  }

  .animate-gentle-fade-out { 
    animation: gentleFadeOut 1s ease-out forwards; 
  }

  /* Cross-platform button enhancements */
  .touch-manipulation {
    touch-action: manipulation;
  }
  
  /* iOS-specific fixes */
  @supports (-webkit-touch-callout: none) {
    /* iOS Safari specific styles */
    input, button {
      -webkit-appearance: none;
      -webkit-tap-highlight-color: transparent;
    }
    
    button {
      -webkit-touch-callout: none;
      -webkit-user-select: none;
    }
  }
  
  /* Android-specific fixes */
  @media screen and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm) {
    /* Android Chrome specific styles */
    button {
      -webkit-tap-highlight-color: rgba(0,0,0,0);
    }
  }
  
  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .bg-gradient-to-r {
      background: #0066cc !important;
    }
    
    .text-white {
      color: white !important;
    }
    
    .border {
      border: 2px solid currentColor !important;
    }
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .animate-spin,
    .animate-pulse,
    .animate-bounce,
    .animate-glow,
    .animate-float {
      animation: none !important;
    }
    
    .transition-all,
    .transition-colors,
    .transition-transform,
    .transition-opacity {
      transition: none !important;
    }
  }
  /* Smooth section transitions */
  .section-transition {
    position: relative;
  }
  
  .section-transition::before {
    content: '';
    position: absolute;
    top: -1px;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(to right, transparent, rgba(255,255,255,0.1), transparent);
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  
  .section-transition:hover::before {
    opacity: 1;
  }

  /* Enhanced slider thumb styling */
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: linear-gradient(135deg, #8b5cf6, #ec4899);
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4), 0 0 10px rgba(236, 72, 153, 0.3);
    cursor: pointer;
    border: 2px solid white;
  }
  
  input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.2);
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.6), 0 0 15px rgba(236, 72, 153, 0.5);
  }
  
  input[type="range"]::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: linear-gradient(135deg, #8b5cf6, #ec4899);
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4), 0 0 10px rgba(236, 72, 153, 0.3);
    cursor: pointer;
    border: 2px solid white;
  }

  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
  }
}

:root { color-scheme: dark; }